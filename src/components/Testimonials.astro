---
import { siteConfig } from '../config.ts';
import { Icon } from 'astro-icon/components';
import { testimonialsContent } from '../content/testimonials';
---

<section 
  id="testimonials" 
  class="relative px-4 py-24 sm:px-6 lg:px-8 border-b-2 border-brand-charcoal overflow-hidden bg-white"
  style="background-image: linear-gradient(#eef0f7 2px, transparent 2px); background-size: 100% 40px;"
>
  <div class="absolute top-10 right-10 border-4 border-brand-mint text-brand-mint px-4 py-2 rounded-xl font-black uppercase tracking-widest -rotate-12 opacity-40 text-2xl hidden md:block">
    Verified Feedback
  </div>

  <div class="mx-auto max-w-7xl relative z-10">
    <div class="scroll-fade-up mx-auto mb-20 max-w-3xl text-center">
      <h2 class="text-brand-charcoal mb-6 text-4xl font-extrabold sm:text-5xl tracking-tight uppercase italic">
        <span class="relative inline-block">
          <span class="relative z-10 px-1">Tutor Success Stories.</span>
          <span class="absolute bottom-1 left-0 h-4 w-full bg-brand-mint/80 z-0"></span>
        </span>
      </h2>
      <p class="text-brand-charcoal/70 text-xl font-bold">
        Join the tutors who have reclaimed their independence.
      </p>
    </div>

    <div class="grid grid-cols-1 gap-10 md:grid-cols-2 lg:grid-cols-3">
      {
        testimonialsContent.map((testimonial, index) => (
          <div
            class={`relative p-8 border-2 border-brand-charcoal rounded-2xl shadow-[8px_8px_0px_0px_rgba(45,52,70,1)] transition-all hover:-translate-y-1 ${testimonial.color} ${index % 2 === 0 ? 'rotate-1' : '-rotate-1'}`}
          >
            <div class="absolute -top-4 -left-4 bg-white border-2 border-brand-charcoal p-2 rounded-lg shadow-[4px_4px_0px_0px_rgba(45,52,70,1)]">
              <Icon name="heroicons:chat-bubble-bottom-center-text" class="h-6 w-6 text-brand-charcoal" />
            </div>

            <p class="text-brand-charcoal text-lg font-bold leading-relaxed mb-8 italic">
              "{testimonial.content}"
            </p>

            <div class="flex items-center gap-4">
              <div class="flex h-12 w-12 items-center justify-center rounded-full border-2 border-brand-charcoal bg-white font-black text-brand-charcoal shadow-[2px_2px_0px_0px_rgba(45,52,70,1)]">
                {testimonial.avatar}
              </div>
              <div>
                <h4 class="font-black uppercase text-sm tracking-tight text-brand-charcoal">{testimonial.name}</h4>
                <p class="text-xs font-bold text-brand-charcoal/60 uppercase">{testimonial.role}</p>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>