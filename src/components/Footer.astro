---
import { siteConfig } from '../config.ts';
import { Icon } from 'astro-icon/components';

const iconMap = {
  twitter: 'simple-icons:x',
  github: 'simple-icons:github',
  linkedin: 'simple-icons:linkedin',
};
---

<footer class="relative bg-[#fdfcf6] border-t-4 border-brand-charcoal px-4 py-20 text-brand-charcoal sm:px-6 lg:px-8 overflow-hidden">
  
  <div class="absolute inset-0 opacity-[0.08] mix-blend-multiply pointer-events-none" style="background-image: url('https://www.transparenttextures.com/patterns/carbon-fibre.png');"></div>
  <div class="absolute inset-0 opacity-[0.03] pointer-events-none" style="background-image: radial-gradient(circle at 1px 1px, #2d3446 1px, transparent 0); background-size: 32px 32px;"></div>

  <div class="mx-auto max-w-7xl relative z-10">
    <div class="grid grid-cols-1 gap-12 md:grid-cols-12 items-start">
      
      <div class="md:col-span-6">
        <div class="mb-8">
          <img 
            src="/logo.svg" 
            alt={siteConfig.site.name} 
            class="h-14 w-auto" 
          />
        </div>
        <p class="text-xl font-semibold uppercase tracking-tight max-w-xs leading-snug italic">
          {siteConfig.footer.tagline}
        </p>
      </div>

      <div class="grid grid-cols-2 gap-12 md:col-span-6">
        {
          siteConfig.footer.columns.map((column) => (
            <div>
              <h4 class="mb-6 text-xs font-bold uppercase tracking-[0.2em] opacity-40">
                {column.title}
              </h4>
              <ul class="space-y-3">
                {column.links.map((link) => (
                  <li>
                    <a 
                      href={link.href} 
                      class="text-lg font-semibold uppercase tracking-tight hover:text-brand-mint transition-colors inline-block"
                    >
                      {link.name}
                    </a>
                  </li>
                ))}
              </ul>
            </div>
          ))
        }
      </div>
    </div>

    <div class="mt-20 border-t-2 border-brand-charcoal/10 pt-10 flex flex-col items-center justify-between md:flex-row gap-8">
      <div>
        <p class="text-[11px] font-semibold uppercase tracking-widest opacity-40">
          &copy; {siteConfig.footer.copyright}
        </p>
      </div>

      <div class="flex space-x-8">
        {
          siteConfig.footer.social.map((social) => (
            <a
              href={social.href}
              class="text-brand-charcoal/50 hover:text-brand-charcoal transition-colors"
              aria-label={social.name}
            >
              <Icon name={iconMap[social.icon] || 'heroicons:link'} class="h-6 w-6" />
            </a>
          ) )
        }
      </div>
    </div>
  </div>
</footer>