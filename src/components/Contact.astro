---
import { siteConfig } from '../config.ts';
import { Icon } from 'astro-icon/components';
---

<section id="contact" class="relative border-t-4 border-brand-charcoal px-4 py-24 sm:px-6 lg:px-8 bg-brand-lavender overflow-hidden">
  
  <div class="absolute top-12 left-12 h-24 w-24 border-t-8 border-l-8 border-brand-charcoal pointer-events-none opacity-20"></div>
  <div class="absolute bottom-12 right-12 h-24 w-24 border-b-8 border-r-8 border-brand-charcoal pointer-events-none opacity-20"></div>

  <div class="mx-auto max-w-7xl relative z-10">
    <div class="grid grid-cols-1 items-start gap-16 lg:grid-cols-2">
      
      <div class="scroll-fade-left">
        <h2 class="text-brand-charcoal mb-8 text-4xl font-extrabold sm:text-6xl tracking-tight uppercase italic">
          <span class="bg-white px-4 py-1 border-4 border-brand-charcoal shadow-[8px_8px_0px_0px_rgba(45,52,70,1)] -rotate-1 inline-block">
            {siteConfig.contact.title}
          </span>
        </h2>
        <p class="text-brand-charcoal mb-10 text-xl font-bold leading-relaxed uppercase tracking-tight">
          {siteConfig.contact.subtitle}
        </p>

        <ul class="mb-12 space-y-6">
          {
            siteConfig.contact.benefits.map((benefit) => (
              <li class="flex items-center group">
                <div class="bg-brand-mint border-2 border-brand-charcoal p-1 rounded shadow-[3px_3px_0px_0px_rgba(45,52,70,1)] mr-4 group-hover:translate-x-1 group-hover:translate-y-1 group-hover:shadow-none transition-all">
                  <Icon
                    name="heroicons:check"
                    class="text-brand-charcoal h-6 w-6 flex-shrink-0"
                  />
                </div>
                <span class="text-brand-charcoal font-black uppercase italic tracking-tight text-lg">{benefit}</span>
              </li>
            ))
          }
        </ul>

        <div class="border-t-4 border-brand-charcoal pt-10">
          <p class="text-brand-charcoal/60 mb-4 text-xs font-black uppercase tracking-widest">
            Or email us direct:
          </p>
          <a
            href={`mailto:${siteConfig.contact.email}`}
            class="text-brand-charcoal text-2xl font-black italic underline decoration-brand-mint decoration-4 underline-offset-4 hover:text-brand-charcoal/80 transition-colors"
          >
            {siteConfig.contact.email}
          </a>
        </div>
      </div>

      <div class="scroll-fade-right border-4 border-brand-charcoal rounded-2xl bg-white p-10 shadow-[12px_12px_0px_0px_rgba(45,52,70,1)]">
        <form id="contactForm" class="space-y-8">
          <div class="relative">
            <label for="name" class="text-brand-charcoal mb-2 block text-xs font-black uppercase tracking-widest italic">
              {siteConfig.contact.form.fields.name.label}
            </label>
            <input
              type="text"
              id="name"
              name="name"
              required={siteConfig.contact.form.fields.name.required}
              class="w-full border-4 border-brand-charcoal rounded-xl px-4 py-4 font-bold placeholder:text-brand-charcoal/30 focus:outline-none focus:bg-brand-mint/10 transition-colors"
              placeholder={siteConfig.contact.form.fields.name.placeholder}
            />
          </div>

          <div class="relative">
            <label for="email" class="text-brand-charcoal mb-2 block text-xs font-black uppercase tracking-widest italic">
              {siteConfig.contact.form.fields.email.label}
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required={siteConfig.contact.form.fields.email.required}
              class="w-full border-4 border-brand-charcoal rounded-xl px-4 py-4 font-bold placeholder:text-brand-charcoal/30 focus:outline-none focus:bg-brand-mint/10 transition-colors"
              placeholder={siteConfig.contact.form.fields.email.placeholder}
            />
          </div>

          <div class="relative">
            <label for="company" class="text-brand-charcoal mb-2 block text-xs font-black uppercase tracking-widest italic">
              {siteConfig.contact.form.fields.company.label}
            </label>
            <input
              type="text"
              id="company"
              name="company"
              class="w-full border-4 border-brand-charcoal rounded-xl px-4 py-4 font-bold placeholder:text-brand-charcoal/30 focus:outline-none focus:bg-brand-mint/10 transition-colors"
              placeholder={siteConfig.contact.form.fields.company.placeholder}
            />
          </div>

          <div class="relative">
            <label for="message" class="text-brand-charcoal mb-2 block text-xs font-black uppercase tracking-widest italic">
              {siteConfig.contact.form.fields.message.label}
            </label>
            <textarea
              id="message"
              name="message"
              rows="4"
              class="w-full border-4 border-brand-charcoal rounded-xl px-4 py-4 font-bold placeholder:text-brand-charcoal/30 focus:outline-none focus:bg-brand-mint/10 transition-colors resize-none"
              placeholder={siteConfig.contact.form.fields.message.placeholder}
            ></textarea>
          </div>

          <button
            type="submit"
            class="group relative w-full"
          >
            <div class="absolute inset-0 bg-brand-charcoal rounded-xl translate-x-2 translate-y-2"></div>
            <div class="relative bg-brand-mint border-4 border-brand-charcoal rounded-xl px-6 py-5 font-black uppercase italic tracking-tight text-xl group-hover:translate-x-1 group-hover:translate-y-1 transition-transform">
              {siteConfig.contact.form.cta}
            </div>
          </button>

          <p class="text-brand-charcoal/50 text-center text-[10px] font-bold uppercase tracking-widest leading-relaxed">
            By clicking request, you agree to our 
            <a href="#" class="underline hover:text-brand-charcoal">Terms</a> and 
            <a href="#" class="underline hover:text-brand-charcoal">Privacy</a>.
          </p>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const contactForm = document.getElementById('contactForm');
    if (contactForm) {
      contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        // Here you would typically handle the form submission
        alert('Request received. We will be in touch shortly.');
        (contactForm as HTMLFormElement).reset();
      });
    }
  });
</script>